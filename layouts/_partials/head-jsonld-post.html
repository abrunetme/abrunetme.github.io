{{- $vars := partial "page-variables.html" . }}

<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": {{ $vars.ldType }},
    "@id": {{ (print $vars.pageURL "#post") }},
    "url": {{ $vars.pageURL }},
    "name": {{ $vars.pageTitle }},
    "headline": {{ $vars.pageTitle }},
    "description": {{ $vars.pageDesc }},
    "inLanguage": {{ .Site.LanguageCode }},
    "dateModified": {{ .Lastmod.Format "2006-01-02T15:04:05Z" }},
    "publisher": {{- partial "head-jsonld-person-part.html" (merge $vars.publisher (dict "Type" "Publisher")) -}},
    "author": {{- partial "head-jsonld-person-part.html" (merge $vars.publisher (dict "Type" "Author")) -}},
    "datePublished": {{ .Date.Format "2006-01-02T15:04:05Z" }},
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": {{ (print $vars.pageURL "#page") }}
    },
    {{- with .Params.tags }}
    "keywords": [
        {{- range $i, $tag := . -}}
            {{- if $i }}, {{ end }}"{{ $tag }}"
        {{- end -}}
    ],
    {{- end -}}
    "mainEntity": {
        "@type": "WebSite",
        "@id": {{ (print .Site.BaseURL "#site") }}
    }
}
</script>