{{- $vars := partial "page-variables.html" . }}

<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": {{ $vars.ldType }},
    "@id": {{ (print $vars.pageURL "#page") }},
    "url": {{ $vars.pageURL }},
    "name": {{ $vars.pageTitle }},
    "headline": {{ $vars.pageTitle }},
    "description": {{ $vars.pageDesc }},
    "inLanguage": {{ .Site.LanguageCode }},
    "dateModified": {{ .Lastmod.Format "2006-01-02T15:04:05Z" }},
    "publisher": {{- partial "head-jsonld-person-part.html" (merge $vars.publisher (dict "Type" "Publisher")) -}},
    {{- with $vars.items }}
    "hasPart": [
        {{- range $i, $item := . }}
        {{- if $i }},{{ end }}
        {
            "@type": "ListItem",
            "position": {{ $i }},
            "url": {{ $item.Permalink }},
            "name": {{ $item.Title }}
        }
        {{- end }}
    ],
    {{- end -}}
    "mainEntity": {
        "@type": "WebSite",
        "@id": {{ (print .Site.BaseURL "#site") }}
    }
}
</script>